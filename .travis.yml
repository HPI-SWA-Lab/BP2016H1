language: smalltalk
sudo: false

# Select compatible Smalltalk image(s)
smalltalk:
  - Squeak-trunk
  - Squeak-5.1
  - Squeak-5.0

matrix:
  include:
    - language: python
      smalltalk:
      before_script:
      python:
        - "3.5"
      script: pytest

before_script:
  # Move testFiles into smalltalkCI build directory
  - "[[ -d $SMALLTALK_CI_BUILD/BP2016H1 ]] || mkdir -p $SMALLTALK_CI_BUILD/BP2016H1"
  - ln -s $TRAVIS_BUILD_DIR/testFiles $SMALLTALK_CI_BUILD/BP2016H1
  - ln -s $TRAVIS_BUILD_DIR/assets $SMALLTALK_CI_BUILD/BP2016H1
